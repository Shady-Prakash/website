---
import type { CollectionEntry } from "astro:content";
import Sponsors from "./Sponsors.astro";
import Container from "./Container.astro";

interface Props {
  meetup: CollectionEntry<"meetups">;
}

const { meetup } = Astro.props;
const { Content } = await meetup.render();
---

<Container>
  <article class="bg-white border-4 border-[#333333] rounded-3xl shadow-[4px_4px_0_#333333] p-4 ">
    <header class="mb-8">
      <h1 class="text-3xl font-bold mt-2 text-center sm:text-left">{meetup.data.title}</h1>
    </header>

    {meetup.data.speakers && (
      <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4">Speakers</h2>
        <ul class="space-y-4">
          {meetup.data.speakers.map((speaker) => (
            <li class="flex items-start">
              <div>
                <h3 class="font-medium">{speaker.name}</h3>
                {speaker.role && (
                  <p class="text-gray-600">{speaker.role}</p>
                )}
              </div>
            </li>
          ))}
        </ul>
      </section>
    )}

    <section class="mb-8">
      <h2 class="text-2xl font-semibold mb-4">Event Details</h2>
      <div class="prose prose-sm max-w-none [&>h2]:text-xl [&>h2]:font-semibold [&>h2]:mt-6 [&>h2]:mb-2 [&>p]:my-2 [&>ul]:list-disc [&>ul]:ml-4">
        <Content />
      </div>
    </section>

    {meetup.data.sponsors && (
      <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4">Sponsors</h2>
        <Sponsors sponsors={meetup.data.sponsors} />
      </section>
    )}

    <footer class="mt-8 pt-8 border-t border-gray-200">
      <a
        href={meetup.data.meetupUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-block px-6 py-3 bg-[#333333] text-white font-bold rounded-xl hover:bg-[#444444] transition-colors"
      >
        RSVP on Meetup â†’
      </a>
    </footer>
  </article>
</Container>
