---
import type { CollectionEntry } from "astro:content";
import Sponsors from "./Sponsors.astro";

interface Props {
  meetup: CollectionEntry<"meetups">;
}

const { meetup } = Astro.props;
---

<article class="bg-white border-4 border-[#333333] rounded-3xl shadow-[4px_4px_0_#333333] relative p-8">
  <!-- Header -->
  <div class="mb-6">
    <p class="text-gray-600 mt-2">{meetup.data.description}</p>
  </div>

  <!-- Content -->
  <div class="space-y-4">
    <div class="flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
      <time class="text-gray-600">
        {meetup.data.date.toLocaleDateString("en-GB", {
          weekday: "long",
          day: "numeric",
          month: "long",
        })}
      </time>
    </div>

    <div class="flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <polyline points="12 6 12 12 16 14"></polyline>
      </svg>
      <span class="text-gray-600">{meetup.data.startTime} - {meetup.data.endTime}</span>
    </div>

    <div class="flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
        <circle cx="12" cy="10" r="3"></circle>
      </svg>
      <span class="text-gray-600">{meetup.data.location}</span>
    </div>

    {meetup.data.speakers && (
      <div class="space-y-2">
        <h4 class="font-medium">Speakers:</h4>
        <ul class="space-y-1">
          {meetup.data.speakers.map((speaker) => (
            <li class="text-gray-600">
              {speaker.name}
              {speaker.role && (
                <span class="text-gray-500 text-sm"> - {speaker.role}</span>
              )}
            </li>
          ))}
        </ul>
      </div>
    )}
  </div>

  <!-- Footer -->
  <div class="mt-6">
    <a
      href={`/events/${meetup.data.slug}`}
      class="inline-block text-[#333333] font-bold hover:underline"
    >
      View Event Details â†’
    </a>
    {meetup.data.sponsors && <Sponsors sponsors={meetup.data.sponsors} />}
  </div>
</article>
